## План автоматизации тестирования

Валидными данными следует считать:
1. для поля карта:
- только цифры, 16 цифр
2. для поля год:
- две последние цифры года, не ниже текущего года, не превышающими текущий год + 5 лет
2. для поля месяц:
- для  текущего года,цифра не ниже текущего месяца, от 01 до 12
- для будушего года: цифры от 01 до 12
4. для поля владелец
- имя и фамилия, написанные латинскими символами через пробел
5. для поля СVC/CVV:
- только цифры, 3 цифры

Банковские карты, которые используются при тестировании:
-Номер карты: "4444 4444 4444 4441" , статус "APPROVED" (одобрена)
-Номер карты: "4444 4444 4444 4442" , статус "DECLINED" (отклонена)

###UI тесты
**1. Заявка "Оплата по карте", заполняется валидными данными карты со статусом APPROVED**
- все поля заполняются валидными данными, номер карты - валидными данными со статусом "APPROVED"
Ожидаемый результат: Транзакция проходит успешно. Появляется вообщение  "Успешно. Операция одобрена банком."
В базу данных внесена новая запись.

**2. Заявка "Оплата по карте", заполняется валидными данными карты со статусом DECLINED**
- все поля заполняются валидными данными, номер карты - валидными данными со статусом "DECLINED"
Ожидаемый результат: Транзакция проходит успешно. Появляется вообщение  "Ошибка. Банк отказал в проведении операции."
В базу данных внесена новая запись.

**5. Заявка "Олата по карте" поле номер карты заполнено не полностью**
- все поля заполняются валидными данными, поле карта оформляется валидными данными менее 16 цифр
Ожидаемый результат: под полем карта появляется сообщение об ошибке "Неверный формат"
В базу данных запись не записывается.

**6.Заявка "Олата по карте" поле номер карты не заполнено**
- все поля заполняются валидными данными, поле карта не заполнена
Ожидаемый результат: под полем карта появляется сообщение об ошибке "Неверный формат"
В базу данных запись не записывается.

**7. Заявка "Олата по карте" поле номер месяца заполнено одной цифрой**
-все поля заполняются валидными данными, поле месяц заполнено 1 цифрой
жидаемый результат: под полем месяц появляется сообщение об ошибке "Неверный формат".
В базу данных запись не записывается.

**8. Заявка "Олата по карте" поле номер месяца заполнено двумя нулями**
-все поля заполняются валидными данными, поле месяц заполнено двумя нулями
Ожидаемый результат: под полем месяц появляется сообщение об ошибке "Неверно указан срок действия карты"
В базу данных запись не записывается.

**10. Заявка "Олата по карте" поле номер месяца заполнено невалидным числом (больше 12)**
-все поля заполняются валидными данными, поле месяц заполнено числом больше "12"
Ожидаемый результат: под полем месяц появляется сообщение об ошибке "Неверно указан срок действия карты"
В базу данных запись не записывается.

**11. Заявка "Олата по карте" поле номер месяца заполнен месяцем меньше текущего, будущего года**
-все поля заполняются валидными данными, поле месяц заполнен числом меньше текущего месяца, поле год заполнен валидным годом
больше текущего
Ожидаемый результат: Транзакция проходит успешно. Появляется вообщение  "Успешно. Операция одобрена банком."
В базу данных внесена новая запись.

**13. Заявка "Олата по карте" поле номер месяца заполнен месяцем меньше текущего ,текущего года**
-все поля заполняются валидными данными, поле месяц заполнен числом меньше текущего месяца, поле год заполнено текущим годом
Ожидаемый результат: под полем месяц появляется сообщение об ошибке "Неверно указан срок действия карты"
В базу данных запись не записывается.

**14. Заявка "Олата по карте" поле номер месяца не заполнено**
-все поля заполняются валидными данными, поле месяц не заполнено
Ожидаемый результат: под полем месяц появляется сообщение об ошибке "Неверный формат"
В базу данных запись не записывается.

**16. Заявка "Олата по карте" поле год не заполнено**
-все поля заполняются валидными данными, поле год не заполнено
Ожидаемый результат: под полем год появляется сообщение об ошибке "Неверный формат"
В базу данных запись не записывается.

**17. Заявка "Олата по карте" поле год заполнено двумя нулями** 
-все поля заполняются валидными данными, поле год заполнено двумя нулями
Ожидаемый результат: под полем год появляется сообщение об ошибке "Истёк срок действия карты"
В базу данных запись не записывается.

**18. Заявка "Олата по карте" поле год заполнено годом ранее текущего**
-все поля заполняются валидными данными, поле год заполнено годом предыдущем от текущего
Ожидаемый результат: под полем год появляется сообщение об ошибке "Истёк срок действия карты"
В базу данных запись не записывается.

**19. Заявка "Олата по карте" поле год заполнено + 6 лет к текущему году**
-все поля заполняются валидными данными, поле год заполнено годом +6 лет к текущему году
Ожидаемый результат: под полем год появляется сообщение об ошибке "Неверно указан срок действия карты"
В базу данных запись не записывается.

**20. Заявка "Олата по карте" поле владелец заполнено кирриллицей**
-все поля заполняются валидными данными, поле владелец заполнено двумя словами через пробел, написанными на киррилице
Ожидаемый результат: отправка формы невозможна, под полем "Владелец" сообщение об ошибке "Неверный формат"
В базу данных запись не записывается.

**21. Заявка "Олата по карте" поле владелец не заполнено**
-все поля заполняются валидными данными, поле владелец не заполнено
Ожидаемый результат: отправка формы невозможна под полем "Владелец" сообщение об ошибке "Поле обязательно для заполнения"
В базу данных запись не записывается.

**22. Заявка "Олата по карте" поле владелец заполнено одним словом на латинице**
-все поля заполняются валидными данными, поле владелец заполнено не полностью
Ожидаемый результат: отправка формы невозможна под полем "Владелец" сообщение об ошибке "Неверный формат"
В базу данных запись не записывается.

**23. Заявка "Олата по карте" поле владелец заполнено одним символом на латинице**
-все поля заполняются валидными данными, поле владелец заполнено одним символом на латинице
Ожидаемый результат: отправка формы невозможна под полем "Владелец" сообщение об ошибке "Неверный формат"
В базу данных запись не записывается.

**24. Заявка "Олата по карте" поле владелец заполнено цифрами**
-все поля заполняются валидными данными, поле владелец заполнено цифрами
Ожидаемый результат: отправка формы невозможна под полем "Владелец" сообщение об ошибке "Неверный формат"
В базу данных запись не записывается.

**25. Заявка "Оплата по карте", поле владелец заполнено спец.символами**
-все поля заполняются валидными данными, поле владелец заполнено спец.символами
Ожидаемый результат: отправка формы невозможна, под полем "Владелец" сообщение об ошибке "Неверный формат"
В базу данных запись не записывается.

**27. Заявка "Оплата по карте", поле "CVC/CVV" заполнено 000**
-все поля заполняются валидными данными, поле "CVC/CVV" заполнено 3 нулями
Ожидаемый результат: Транзакция проходит успешно. Появляется вообщение  "Успешно. Операция одобрена банком."
В базу данных внесена новая запись.

**28. Заявка "Оплата по карте", поле "CVC/CVV" заполнено 2 цифрами**
-все поля заполняются валидными данными, поле "CVC/CVV" заполнено 2 цифрами
Ожидаемый результат: отправка формы невозможна, под полем "CVC/CVV" сообщение об ошибке "Неверный формат"
В базу данных запись не записывается

**26.Заявка "Оплата по карте", поле "CVC/CVV" не заполнено**
-все поля заполняются валидными данными, поле "CVC/CVV" не заполнено
Ожидаемый результат: отправка формы невозможна, под полем "CVC/CVV" сообщение об ошибке "Неверный формат"

**27. Нажать на главной странице на кнопку "Купить в кредит"**
Ожидаемый результат: На главной странице веб-сервиса становиться видимой/доступной операция "Кредит по данным карты"

###Все тесты начиная с 1 по 26, провести на функционале "Кредит по данным карты"

###API тесты

1.Отправка POST запроса платежа с карты со статусом "APPROVED", и телом запроса с полностью заполненными 
валидными данными на http://localhost:8080/payment
Ожидаемый результат: статус 200, в БД появляется запись 

2.Отправка POST запроса платежа в кредит с карты со статусом "APPROVED", и телом запроса с полностью заполненными
валидными данными на http://localhost:8080/credit
Ожидаемый результат: статус 200, появление соответствующей записей в БД

3.Отправка POST запроса платежа с карты со статусом "DECLINED"  и телом запроса с полностью заполненными
валидными данными на http://localhost:8080/payment
Ожидаемый результат: статус 400, в БД не появляется запись 

4.Отправка POST запроса платежа в кредит с карты со статусом "DECLINED"  и телом запроса с полностью заполненными
валидными данными на http://localhost:8080/credit
Ожидаемый результат: статус 400, в БД не появляется запись

5. Отправка POST запроса платежа с пустым значением у атрибута bank card и телом запроса полностью заполненным
валидными данными на http://localhost:8080/payment
Ожидаемый результат: статус 400, в БД не появляется запись

6. Отправка POST запроса платежа в кредит с пустым значением у атрибута bank card и телом запроса полностью заполненным
валидными данными на http://localhost:8080/credit
Ожидаемый результат: статус 400, в БД не появляется запись

7. Отправка POST запроса платежа с пустым значением у атрибута month и телом запроса полностью заполненным
валидными данными на http://localhost:8080/payment
Ожидаемый результат: статус 400, в БД не появляется запись

8. Отправка POST запроса платежа в кредит с пустым значением у атрибута month и телом запроса полностью заполненным
валидными данными на http://localhost:8080/credit
Ожидаемый результат: статус 400, в БД не появляется запись

9. Отправка POST запроса платежа с пустым значением у атрибута year и телом запроса полностью заполненным
валидными данными на http://localhost:8080/payment
   Ожидаемый результат: статус 400, в БД не появляется запись

10. Отправка POST запроса платежа в кредит с пустым значением у атрибута year и телом запроса полностью заполненным
валидными данными на http://localhost:8080/credit
Ожидаемый результат: статус 400, в БД не появляется запись

11. Отправка POST запроса платежа с пустым значением у атрибута holder и телом запроса полностью заполненным
валидными данными на http://localhost:8080/payment
Ожидаемый результат: статус 400, в БД не появляется запись

12. Отправка POST запроса платежа в кредит с пустым значением у атрибута holder и телом запроса полностью заполненным
валидными данными на http://localhost:8080/credit
Ожидаемый результат: статус 400, в БД не появляется запись

13. Отправка POST запроса платежа с пустым значением у атрибута CVC/CVV и телом запроса полностью заполненным
валидными данными на http://localhost:8080/payment
Ожидаемый результат: статус 400, в БД не появляется запись

14. Отправка POST запроса платежа в кредит с пустым значением у атрибута CVC/CVV и телом запроса полностью заполненным
валидными данными на http://localhost:8080/credit
Ожидаемый результат: статус 400, в БД не появляется запись

##перечень используемых инструментов с обоснованием выбора
- IntelliJ IDEA, т.к поддерживает такие библиотеки как JUnit Jupiter, и инструменты управления проектом как Gradle
- Gradle – который упрощает работу, за счет того что:  умеет самостоятельно скачивать и устанавливать нужные зависимости (и зависимости зависимостей), а также компилировать проект, запускать автотесты.
- JUnit 5  - фреймворк для тестирования отдельных участков кода. Использование JUnit позволяет проверить код программы без значительных усилий и не занимает много времени.  JUnit 5 управляет выполнением каждого метода тестирования, поддерживает многие аннотации, позволяющие упростить код и сэкономить время.
- Selenide -фреймворк для автоматизированного тестирования веб-приложений , он помогает быстро писать код и упрощает его. Selenide помогает писать сценарии которые будут проверять работу веб-приложения: поиск нужных элементов, проверка событий, взаимодействие с UI.
- Faker – ускоряет процесс написания автотестов, за счет генерации данных для заполнения, надежность и совместимость с вышеперечисленными инструментами.
- Allure  - для создания визуально наглядной картины выполнения тестов, хорошая совместимость с JUnit 5

## Перечень и описание возможных рисков при автоматизации:
- Настройка и запуск системы для начало тестирования ()
- Поддержание 2 СУБД
- Невозможность проверки верстки страницы при автоматизированном тестировании
 
## Интервальная оценка с учётом рисков в часах
- С учетом рисков на автоматизацию потребуется примено 90-100 рабочих часов

## План сдачи работ: когда будут готовы автотесты, результаты их прогона
- Подготовка к проведению тестирования (создание проекта, настройка и запуск образа бд, запуск джарника, написание 
плана автоматизации) - 30 часов
- Написание и запуск автотестов - 50 часов
- Оформление багов - 10 часов
- Оформление отчетов - 10 часов